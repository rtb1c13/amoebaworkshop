<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage"><head><script src="./Resources/analytics.js" type="text/javascript"></script><script src="./Resources/page-script.js" id="bw-fido2-page-script"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app210.us.archive.org';v.server_ms=627;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="./Resources/bundle-playback.js" charset="utf-8"></script>
<script type="text/javascript" src="./Resources/wombat.js" charset="utf-8"></script>
<script>window.RufflePlayer=window.RufflePlayer||{};window.RufflePlayer.config={"autoplay":"on","unmuteOverlay":"hidden"};</script>
<script type="text/javascript" src="./Resources/ruffle.js"></script>
<script type="text/javascript">
  __wm.init("https://web.archive.org/web");
  __wm.wombat("./Exercise 1.html","20210125225205","https://web.archive.org/","web","https://web-static.archive.org/_static/",
	      "1611615125");
</script>
<link rel="stylesheet" type="text/css" href="./Resources/banner-styles.css">
<link rel="stylesheet" type="text/css" href="./Resources/iconochive.css">
<!-- End Wayback Rewrite JS Include -->

<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="https://web.archive.org/web/20210125225205im_/https://www.google.com/images/icons/product/sites-16.ico">
<link rel="apple-touch-icon" href="https://web.archive.org/web/20210125225205im_/https://ssl.gstatic.com/sites/p/1cd7f2/system/app/images/apple-touch-icon.png" type="image/png">
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/site/amoebaworkshop/exercise-1","deleted":false,"title":"Exercise 1 - Getting started with Tinker","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/1cd7f2/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":false,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://429719560-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"AMOEBA advanced potential energies workshop","jot2atari":{"eligibility":"ineligible"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":true,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003d./Exercise 1.html\u0026service\u003djotspot","analyticsAccountId":"","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//web.archive.org/web/20210125225205/https://www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/1cd7f2/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/1cd7f2/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/1cd7f2/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/1cd7f2/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/1cd7f2/system/app/css/trogedit.css","/site/amoebaworkshop/_/rsrc/1610612676000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/1cd7f2/system/app/css/codeeditor.css","/site/amoebaworkshop/_/rsrc/1610612676000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"defaultdomain","baseUri":"/site/amoebaworkshop","name":"amoebaworkshop","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":null,"parentWuid":null,"siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Exercise 1 - Getting started with Tinker","locale":"en","wuid":"wuid:gx:45351533ca1c2014","revision":56,"path":"/exercise-1","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"exercise-1","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","onePickToken":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/site/amoebaworkshop/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Exercise 1 - Getting started with Tinker - AMOEBA advanced potential energies workshop">
<meta itemprop="name" content="Exercise 1 - Getting started with Tinker - AMOEBA advanced potential energies workshop">
<meta property="og:title" content="Exercise 1 - Getting started with Tinker - AMOEBA advanced potential energies workshop">
<meta name="description" content="Instructions and activities for the AMOEBA advanced potentials workshop, Southampton, Dec 2016">
<meta itemprop="description" content="Instructions and activities for the AMOEBA advanced potentials workshop, Southampton, Dec 2016">
<meta id="meta-tag-description" property="og:description" content="Instructions and activities for the AMOEBA advanced potentials workshop, Southampton, Dec 2016">
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="./Resources/standard-css-simple-ltr-ltr.css">
<link rel="stylesheet" type="text/css" href="./Resources/overlay.css">
<link rel="stylesheet" type="text/css" href="./Resources/allthemes-view.css">
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/site/amoebaworkshop/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Exercise 1 - Getting started with Tinker - AMOEBA advanced potential energies workshop</title>
<meta itemprop="image" content="https://web.archive.org/web/20210125225205im_/https://sites.google.com/site/amoebaworkshop/_/rsrc/1479123942206/exercise-1/AAA_vmd.png?height=320&amp;width=256">
<meta property="og:image" content="https://web.archive.org/web/20210125225205im_/https://sites.google.com/site/amoebaworkshop/_/rsrc/1479123942206/exercise-1/AAA_vmd.png?height=320&amp;width=256">
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
<script type="text/javascript" charset="UTF-8" src="./Resources/platform.js"></script><script src="./Resources/ga.js"></script></head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            "><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display: block; direction: ltr;">
</div><div id="wm-ipp-print">The Wayback Machine - ./Exercise 1.html</div>
<script type="text/javascript">//<![CDATA[
__wm.bt(725,27,25,2,"web","./Exercise 1.html","20210125225205",1996,"https://web-static.archive.org/_static/",["https://web-static.archive.org/_static/css/banner-styles.css?v=S1zqJCYt","https://web-static.archive.org/_static/css/iconochive.css?v=qtvMKcIJ"], false);
  __wm.rw(1);
//]]></script>
<!-- END WAYBACK TOOLBAR INSERT -->
 
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tbody><tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><h2><a href="./Home.html" dir="ltr" id="sites-chrome-userheader-title">AMOEBA advanced potential energies workshop</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="./Home.html" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site"><input type="text" id="jot-ui-searchInput" name="q" size="20" aria-label="Search this site"><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0" style="user-select: none;">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</tbody></table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tbody><tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Navigation</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="./Home.html" jotid="wuid:gx:2433b5dc13050779" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="./Intro & setup.html" jotid="wuid:gx:1fd6c32ac2b1a6fe" class="sites-navigation-link">Intro &amp; setup</a></div></li><li class=""><div class="current-bg" jotid="wuid:gx:45351533ca1c2014" dir="ltr" style="padding-left: 5px;">Exercise 1 - Getting started with Tinker</div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="./Exercise 2 part 1.html" jotid="wuid:gx:bd56be6b29c141c" class="sites-navigation-link">Exercise 2 part 1 - Parameterising a new molecule (electrostatics)</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="./Exercise 2 part 2.html" jotid="wuid:gx:13ed29ff4d31ec95" class="sites-navigation-link">Exercise 2 part 2 - Parameterising a new molecule (valence &amp; vdW)</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="./Exercise 3.html" jotid="wuid:gx:6bf20198ee7a45b8" class="sites-navigation-link">Exercise 3 - Analysing trajectories and calculating free energies</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="./Sitemap.html" jotid="wuid:gx:66aafe7b737940d1" class="sites-navigation-link">Sitemap</a></div></li></ul></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
</div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Exercise 1 - Getting started with Tinker</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:250px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Why-Tinker-"><strong>1 </strong>Why Tinker?</a></li><li class="goog-toc"><a href="#TOC-Setting-up-Ala3"><strong>2 </strong>Setting up Ala3</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Logging-in"><strong>2.1 </strong>Logging in</a></li><li class="goog-toc"><a href="#TOC-File-formats"><strong>2.2 </strong>File formats</a></li><li class="goog-toc"><a href="#TOC-Converting-a-PDB-to-Tinker-format"><strong>2.3 </strong>Converting a PDB to Tinker format</a></li></ol></li><li class="goog-toc"><a href="#TOC-Energy-minimisation"><strong>3 </strong>Energy minimisation</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Defining-simulation-conditions-in-a-key-file"><strong>3.1 </strong>Defining simulation conditions in a key file</a></li><li class="goog-toc"><a href="#TOC-Running-a-minimisation-job"><strong>3.2 </strong>Running a minimisation job</a></li></ol></li><li class="goog-toc"><a href="#TOC-Heating-to-300K---NVT-simulations"><strong>4 </strong>Heating to 300K - NVT simulations</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Additions-to-the-key-file-for-dynamics"><strong>4.1 </strong>Additions to the key file for dynamics</a></li><li class="goog-toc"><a href="#TOC-How-to-use-dynamic-the-MD-engine"><strong>4.2 </strong>How to use 'dynamic', the MD engine</a></li></ol></li><li class="goog-toc"><a href="#TOC-Equilibrating-to-1-atm---NPT-simulations"><strong>5 </strong>Equilibrating to 1 atm - NPT simulations</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Restarting-a-simulation"><strong>5.1 </strong>Restarting a simulation</a></li><li class="goog-toc"><a href="#TOC-Running-under-constant-pressure"><strong>5.2 </strong>Running under constant pressure</a></li></ol></li><li class="goog-toc"><a href="#TOC-Extras:"><strong>6 </strong>Extras:</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Visualising-output"><strong>6.1 </strong>Visualising output</a></li><li class="goog-toc"><a href="#TOC-Analysing-simulations"><strong>6.2 </strong>Analysing simulations</a></li></ol></li></ol></div></div></div></div></div><h2><a name="TOC-Why-Tinker-"></a>Why Tinker?</h2>
Tinker is a freely available molecular modelling package, primarily 
authored by Jay Ponder's lab at the University of Washington in St 
Louis. It has utilities for all sorts of biomolecular simulations, and 
includes parameters for many of the standard biomolecular force fields, 
but for learning how to use AMOEBA simulations it has 3 main advantages:
<div>
<ol><li>It's the canonical AMOEBA code - other software packages may be 
faster (more on that later!) but their implementations of AMOEBA will 
follow that of Tinker</li>
<li>As the canonical code, Tinker includes the latest AMOEBA parameter 
and methodology developments, for testing and investigating the effects 
of polarisation in different systems</li>
<li>It's free!</li>
</ol>
<div>In this first tutorial we'll introduce the basic Tinker utilities 
for setting up and running a molecular dynamics simulation with AMOEBA, 
along with the file formats Tinker uses for topology, coordinates, and 
parameters of simulated systems. We'll be using a simple Ala<sub>3</sub>&nbsp;peptide in water as our system of interest, but the concepts are similar for any biomolecule.<br><div style="display:block;text-align:center"><a href="./Exercise 1.html/AAA_vmd.png?attredirects=0" imageanchor="1"><img border="0" height="320" src="./Resources/AAA_vmd.png" width="256"></a><hr></div></div>
</div>
<div></div><h2><a name="TOC-Setting-up-Ala3"></a>Setting up Ala<sub>3</sub></h2>
<h4><a name="TOC-Logging-in"></a><span style="color:rgb(0,0,255)">Logging in</span><br>
</h4>
<p>Log into Lyceum2, and type <code>ls</code>. You should see a folder called 'amoebaworkshop'. Change into it:</p>
<div class="sites-codeblock sites-codesnippet-block">
<p><code>cd amoebaworkshop</code></p>
</div>
<p>Inside there will be many more folders, each corresponding to different exercises (you can see these if you type <code>ls</code> again). For now, change into the 'Exercise_1' folder, and list the files inside:</p>
<div class="sites-codeblock sites-codesnippet-block">
<p><code>cd Exercise_1</code><br>
<code>ls</code><br>
</p>
</div>
<p>Of course, the first thing we need to set up a molecular dynamics 
simulation is an initial structure of the system we want to simulate. 
This might be, for example, an X-ray crystal structure of a protein from
 the PDB, properly protonated and solvated. In this case we've provided 
an initial file,&nbsp;<code>AAA_solv.pdb</code>. This is&nbsp;a linear Ala<sub>3</sub>&nbsp;peptide,&nbsp;<span style="background-color:transparent;font-size:10pt">which
 for the sake of speed we've already created and solvated in a box with a
 10.0 Å buffer of water on all sides. There are many software packages 
that can perform this sort of set up, and of course Tinker has its own 
utilities too (see side note 1).</span></p><hr><h4><a name="TOC-File-formats"></a><span style="color:rgb(0,0,255)">File formats</span><span style="background-color:transparent;font-size:10pt"><br>
</span></h4>
<p></p><div class="sites-embed-align-right-wrapping-on"><div class="sites-embed-border-on sites-embed" style="width:300px;"><h4 class="sites-embed-title">Side note 1 - Tinker protein set up</h4><div class="sites-embed-content sites-embed-type-text"><div class="sites-embed-content-textbox"><div dir="ltr">
<div style="text-align:center"><font color="#ff0000"><span style="text-align:left">Tinker has its own utilities for creating linear peptide and nucleic acid chains using the </span><code style="text-align:left">protein</code><span style="text-align:left"> and </span><code style="text-align:left">nucleic</code><span style="text-align:left"> tools, which you can run interactively to build initial structures in Tinker format. These can then be solvated with the </span><code style="text-align:left">xyzedit</code><span style="text-align:left">
 program (for details see exercise 2). However, for the most part, you 
might be interested in using initial structures (e.g. crystal 
structures) that already exist - in which case </span><code style="text-align:left">pdbxyz</code><span style="text-align:left"> is the way to go. </span><code style="text-align:left">Pdbxyz</code><span style="text-align:left">
 is aware of all standard amino acids, nucleic acids, water and 
mono/divalent ion names and will convert and assign atom types to Tinker
 format, adding hydrogen atoms to crystal structures where necessary. 
Problems with </span><code style="text-align:left">pdbxyz</code><span style="text-align:left"> are most often caused by discrepancies between atom names in different programs - take care with this in your own simulations.</span></font></div>
</div></div></div></div></div>
<p></p>
<p>Tinker makes use of two main file formats to run its simulations:</p>
<ol><li><b>The 'xyz' file:</b>&nbsp;Contains the coordinates and topology of all the atoms in the system</li>
<li><b>The 'key' file:</b>&nbsp;Contains the simulation conditions and input options, along with parameters for atoms, or paths to find them<br>
</li>
</ol>
<p>We'll start by making a basic key file. Open up a new file called <code>PDB_to_xyz.key</code> in your favourite text editor - I use vi (e.g. type <code>vi PDB_to_xyz.key</code>). Add the following into the empty text file, and save it:</p>
<div class="sites-codeblock sites-codesnippet-block" style="width:60%"><code>parameters /home/***Enter_your_username_here***/tinker/params/amoebapro13.prm</code><br>
<br>
<code>a-axis 36.281</code><br>
<code>b-axis 33.399</code><br>
<code>c-axis 30.222</code></div>
<p>The first line (be sure to enter the temporary Southampton username 
you've been given correctly...) gives Tinker the location of the 
parameter file we want to use for this simulation. Tinker is packaged 
with a variety of force fields, here we'll use the Amoeba protein 
parameters of 2013 (named <code>amoebapro13.prm</code> in the Tinker '<code>params</code>' directory).</p>
<p>The next three lines (starting <code>a-axis</code>, <code>b-axis</code> &amp; <code>c-axis</code>)
 are the X, Y &amp; Z box dimensions in Ångstrom of the periodic system.
 We've taken these straight from the CRYST records at the top of the PDB
 file.</p><hr>
<h4><a name="TOC-Converting-a-PDB-to-Tinker-format"></a><span style="color:rgb(0,0,255)">Converting a PDB to Tinker format</span><br>
</h4>
<p>Now we have a basic key file we can use it to create a Tinker xyz 
file from our initial PDB file. Tinker has a built-in program to do 
this, called <code>pdbxyz</code>. Back in the terminal window, type:</p>
<div class="sites-codeblock sites-codesnippet-block">
<p><code>pdbxyz AAA_solv.pdb -k PDB_to_xyz.key</code><br>
<code>ls</code><br>
</p>
</div>
<p>You'll see that two new files have been created, <code>AAA_solv.seq</code> and <code>AAA_solv.xyz</code>. Have a look at the <code>.seq</code> file first, again in your favourite text editor. You'll see it just contains the line "<code>1&nbsp; ALA ALA ALA</code>". This is the peptide sequence that <code>pdbxyz</code> has interpreted and converted. Next, open up <code>AAA_solv.xyz</code>. It'll have lines that look like this:</p>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="./Exercise 1.html/AAA_solvxyz_annotated.png?attredirects=0" imageanchor="1"><img border="0" src="./Resources/AAA_solvxyz_annotated.png" style="width:90%"></a></div>
<p>As you can see, the xyz file contains the coordinates, topology, and 
atom type information Tinker needs to describe the system under 
investigation. We can now use this file to actually start some 
simulation...</p><hr>
<h2><a name="TOC-Energy-minimisation"></a>Energy minimisation</h2>
<h4><a name="TOC-Defining-simulation-conditions-in-a-key-file"></a><span style="color:rgb(0,0,255)">Defining simulation conditions in a key file</span><br>
</h4>
<div>The first step in any MD protocol is to relax the initial structure
 to remove any steric clashes or poor configurations arising from our 
setup/solvation procedure. Tinker includes multiple different 
minimisation algorithms, but here we'll use the program <code>minimize</code> with the rapid but simple steepest descent algorithm.</div>
<p>Start by making a new copy of both our xyz file and key file, for tidiness' sake:</p>
<div class="sites-codeblock sites-codesnippet-block">
<p><code>cp PDB_to_xyz.key AAA_min.key</code><br>
<code>cp AAA_solv.xyz AAA_min.xyz</code></p>
</div>
<p>Then, edit <code>AAA_min.key</code> so it contains the following (the comments, starting with <code>#</code>, aren't necessary):</p>
<div class="sites-codeblock sites-codesnippet-block">
<p class="sites-codesnippet-block" style="margin:0px">
<code>parameters /home/</code><code>***Enter_your_username_here***</code><code>/tinker/params/amoebapro13.prm</code><br>
<br>
<code>a-axis 36.281</code><br>
<code>b-axis 33.399</code><br>
<code>c-axis 30.222</code><br>
<br>
<code>openmp-threads 4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # No. of parallel CPU threads to use</code><br>
<br>
<code>cutoff 
9.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 # Nonbonded interactions direct cutoff</code><br>
<code>ewald&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 # Switch on PME</code><br>
<code>ewald-cutoff 7.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # PME real space cutoff (overrides the 9A above)</code><br>
<code>vdw-
correction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 # Switch on analytical long-range vdW correction</code></p>
<p class="sites-codesnippet-block" style="margin:0px"><code>polar-eps 
0.01&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 # Dipole convergence criterion in RMS Debye/atm</code><br>
<br>
<code>neighbor-
list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 # Use pairwise neighbor list for calculating</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 # nonbonded interactions (improves speed)</code><br>
<br>
<code>maxiter 
2000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 # Maximum number of minimisation steps</code><br>
<code>steepest-descent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Use the SD minimisation algorithm</code><br>
<br>
<code>printout 
100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 # Interval at which to print out energies<br>
</code></p>
</div>
<p>
</p>
<p>
</p>
<div>
<p>We've added some keywords defining the type of simulation we want to 
perform - a steepest descent minimisation of maximum 2000 steps, with a 
9.0 Å vdW cutoff, 7.0 Å real space electrostatics cutoff, and PME and an
 analytical correction for long range electrostatics and vdW 
respectively. Additionally we've specified (with the <code>polar-eps</code>
 keyword) that at every step we wish our induced dipoles to be iterated 
until the RMS change in atomic dipoles is less than 0.01 Debye/atom. 
This is a fairly <b><i>loose</i></b> convergence criterion, and is at 
the limits of conserving energy in an AMOEBA MD simulation, but we use 
it here for speed. In practice it's preferred to use a convergence 
criterion of 1e-5 Debye/atom or below.</p><hr>
<h4><a name="TOC-Running-a-minimisation-job"></a><span style="color:rgb(0,0,255)">Running a minimisation job</span><br>
</h4>
<p>To run this minimisation we'll need to submit a job to the Lyceum 
cluster. A script to do so has been ready prepared for you, called <code>AAA_min.x</code>.
 Open it up, and you'll see the command line used to run a Tinker 
minimisation, along with some comments describing how it's used:<br>
</p>
<div class="sites-codeblock sites-codesnippet-block"><code># Command for using Tinker minimize:<br>
# minimize [xyz file] -k [key file] [gradient convergence criterion]<br>
<br>
minimize AAA_min.xyz -k AAA_min.key 0.01 &gt; AAA_min.out</code></div>
<p>The gradient convergence criterion here is NOT the same as the dipole
 convergence criterion above. It is the RMS gradient in the energy at 
which we wish to stop the minimisation. If this gradient is reached 
before the maximum number of minimisation steps have been performed, the
 minimisation will stop, as the system is well minimised anyway. 0.01 
kcal/mol/A per atom is the default value, and we use it here.</p>
<p>Change any filenames in <code>AAA_min.x</code> to be correct for the xyz file and key file you have, then submit the job to the cluster:<br>
</p>
<div class="sites-codeblock sites-codesnippet-block"><code>qsub AAA_min.x</code></div>
<p>This will take about 3 minutes to run. You can have a look at the output in real time by following <code>AAA_min.out</code>, e.g. <code>tail -f AAA_min.out</code><br>
</p>
<p>Once complete, it's time to run some molecular dynamics...</p><hr>
<h2><a name="TOC-Heating-to-300K---NVT-simulations"></a>Heating to 300K - NVT simulations</h2>
<h4><a name="TOC-Additions-to-the-key-file-for-dynamics"></a><span style="color:rgb(0,0,255)">Additions to the key file for dynamics</span><br>
</h4>
<p>Once your minimisation job is complete, you'll have a new file in your directory: <code>AAA_min.xyz_2</code>. This is the final structure of the solvated Ala<sub>3</sub>
 system after the minimisation. By default, Tinker appends output files 
with sequential numbers, so if you wanted to start another minimisation 
from <code>AAA_min.xyz_2</code>, the output would be called <code>AAA_min.xyz_3</code>.
 However, this might get very confusing very quickly, so instead we'll 
rename our output file to something more sensible, and make a new key 
file for the next simulation:</p>
<div class="sites-codeblock sites-codesnippet-block"><code>mv AAA_min.xyz_2 AAA_eq_nvt.xyz<br>
cp AAA_min.key AAA_eq_nvt.key<br>
</code></div>
<p>
</p>
</div>
<div>
<p>As you might have guessed our next simulation will involve heating 
and equilibrating the system at 300 K, under constant volume (NVT) 
conditions. Open up the <code>AAA_eq_nvt.key</code> file and edit it to look like the following. There are only a few changes that need to be made at the bottom of the file:</p>
<div class="sites-codeblock sites-codesnippet-block"><code>parameters /home/</code><code><code>***Enter_your_username_here***</code>/tinker/params/amoebapro13.prm</code><br>
<br>
<code>a-axis 36.281</code><br>
<code>b-axis 33.399</code><br>
<code>c-axis 30.222</code><br>
<br>
<code>openmp-threads 8</code><br>
<br>
<code>cutoff 9.0</code><br>
<code>ewald</code><br>
<code>ewald-cutoff 7.0</code><br>
<code>vdw-correction</code><br>
<code>polar-eps 0.01</code><br>
<br>
<code>neighbor-list</code><br>
<br>
<code>printout 500</code><br>
<br>
<code>thermostat andersen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Switch on Andersen thermostat</code><br>
<code>integrator verlet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Use a velocity-Verlet integrator</code><br>
<br>
<code>archive&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 # Create a single trajectory file with all</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 # MD snapshots concatenated in sequence<br>
</code></div>
<p>Notice we've removed the '<code>maxiter</code>' and '<code>steepest-descent</code>'
 keywords as we're no longer performing a minimisation. Instead they've 
been replaced with keywords to set a thermostat and integrator. Finally 
the '<code>archive</code>' keyword will concatenate all of our output 
files (snapshots of the simulation coordinates) into a single 
trajectory. Otherwise Tinker prints out every frame as a separate, 
sequentially numbered file, as it did with the minimisation output 
above.</p><hr>
<h4><a name="TOC-How-to-use-dynamic-the-MD-engine"></a><span style="color:rgb(0,0,255)">How to use 'dynamic', the MD engine</span><br>
</h4>
<p>Next, we'll submit an MD job to the Lyceum cluster - the script to do so is called <code>AAA_eq_nvt.x</code>. It contains the following command line, which uses the program <code>dynamic</code>, Tinker's main MD engine:</p>
<div><div class="sites-embed-align-right-wrapping-on"><div class="sites-embed-border-on sites-embed" style="width:300px;"><h4 class="sites-embed-title">Side note 2 - interactive running</h4><div class="sites-embed-content sites-embed-type-text"><div class="sites-embed-content-textbox"><div dir="ltr"><span style="color:rgb(255,0,0)">All Tinker programs, minimize and dynamic included, are also set up to run and receive input interactively. Simply running '<code>dynamic</code>'
 from the command line will prompt the user for all required input data,
 from input filenames to choice of ensemble to temperatures and 
pressures. This will also happen if only a partial command line is used,
 e.g. if you want to run an NVT simulation but forget to specify a 
desired temperature.</span><br>
</div></div></div></div></div></div>
<div class="sites-codeblock sites-codesnippet-block" style="width:60%"><code>dynamic AAA_eq_nvt.xyz -k AAA_eq_nvt.key 5000 1.0 0.5 2 300 &gt; AAA_eq_nvt.out</code></div>
<p>The numbers following the usual xyz and key file inputs correspond to the following:</p>
<ol><li>The number of MD steps to perform (here 5000 steps)</li>
<li>The timestep, in fs (here 1.0 fs)</li>
<li>The time interval to print out coordinate information, in ps (here 0.5 ps, or 500 steps)</li>
<li>The type of simulation to run/which ensemble to run in (here 2 = NVT)</li>
<li>The desired simulation temperature, in K (here 300 K)</li>
</ol>
<p>Change any of the filenames in <code>AAA_eq_nvt.x</code> to be correct for your own system, and submit the job to Lyceum:</p>
<div class="sites-codeblock sites-codesnippet-block"><code>qsub AAA_eq_nvt.x</code></div>
<p>This should take about 6-7 minutes to run.</p><hr>
<h2><a name="TOC-Equilibrating-to-1-atm---NPT-simulations"></a>Equilibrating to 1 atm - NPT simulations</h2>
<h4><a name="TOC-Restarting-a-simulation"></a><span style="color:rgb(0,0,255)">Restarting a simulation</span><br>
</h4>
<p>Open up the output file (<code>AAA_eq_nvt.out</code>) from the heating simulation. The last few lines should include a section like this:</p>
<div class="sites-codeblock sites-codesnippet-block"><code>Average Values for the Last&nbsp;&nbsp; 500 Out of&nbsp;&nbsp;&nbsp;&nbsp; 5000 Dynamics Steps</code><br>
<br>
<code>Simulation Time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.0000 Picosecond</code><br>
<code>Total 
Energy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 -4860.8933 Kcal/mole&nbsp;&nbsp; (+/-&nbsp;&nbsp; 5.4696)</code><br>
<code>Potential Energy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -6761.2395 Kcal/mole&nbsp;&nbsp; (+/-&nbsp; 31.1456)</code><br>
<code>Kinetic 
Energy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 1900.3462 Kcal/mole&nbsp;&nbsp; (+/-&nbsp; 28.3130)</code><br>
<code>Temperature&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 275.99 Kelvin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(+/-&nbsp;&nbsp;&nbsp;&nbsp; 4.11)</code><br>
<code>Pressure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 -770.24 Atmosphere&nbsp; (+/-&nbsp;&nbsp; 533.81)</code><br>
<code>Density&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 0.6305 Grams/cc&nbsp;&nbsp;&nbsp; (+/-&nbsp;&nbsp; 0.0000)</code></div>
<p>This file contains the average and instantaneous system energies, 
temperatures, pressures etc. If this were a real simulation you may wish
 to visually check equilibration by writing a small script to extract 
and plot the progress of these properties over time. From the above we 
can already see this NVT simulation is too short, as the system 
temperature hasn't quite reached 300 K. We could change the collision 
frequency of the Andersen thermostat to speed this up (using the '<code>collision</code>' keyword - see the <a href="https://dasher.wustl.edu/tinker/downloads/guide.pdf" target="_blank" rel="nofollow">Tinker manual</a>), but for now we'll carry on with a pressure equilibration just to demonstrate how it works.</p>
<p>Type <code>ls</code> and you'll see a couple more new files have been created as outputs from the simulation. The first, <code>AAA_eq_nvt.arc</code>,
 is the 'archive' file, containing all the coordinates of snapshots 
printed out during the trajectory as a single file (remember, this is 
why we specified the '<code>archive</code>' keyword in <code>AAA_eq_nvt.key</code>). The second, <code>AAA_eq_nvt.dyn</code>,
 is the 'dynamics' file and contains the current atomic positions, 
velocities, box dimensions and accelerations at the last trajectory 
snapshot. The dyn file is therefore the way to perform a (non-binary) 
restart of a Tinker MD simulation:</p>
<p style="text-align:center"><b>If <code>dynamic</code> finds a dyn file with the <u>same prefix</u> as the specified starting xyz file, then coordinates, velocities and box dimensions are <u>restarted</u> from the dyn, <u>overriding anything specified in other inputs</u></b></p>
<p style="text-align:left">So, in theory, we could use exactly the same command line for <code>dynamic</code>
 as we did above and the simulation would continue for another 5 ps from
 where it left off, as Tinker would recognise the existence of the dyn 
file. However, for tidiness' sake we will again make copies of our 
inputs and start our NPT equilibration from there.</p><hr>
<h4 style="text-align:left"><a name="TOC-Running-under-constant-pressure"></a><span style="color:rgb(0,0,255)">Running under constant pressure</span></h4>
<p>Start by making copies of the key file and dyn file:</p>
<div class="sites-codeblock sites-codesnippet-block">
<p><code>cp AAA_eq_nvt.key AAA_eq2_npt.key</code><br>
<code>cp AAA_eq_nvt.dyn AAA_eq2_npt.dyn</code></p>
</div><p>
</p><p>And now add the following to the bottom of the <code>AAA_eq2_npt.key</code> key file:</p><div class="sites-codeblock sites-codesnippet-block"><code>barostat berendsen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Switch on Berendsen barostat</code><br><code>tau-pressure 1.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Set pressure coupling time to 1.0 ps</code></div><p>There
 are other, rigorous, barostats (e.g. Monte-Carlo, Nose-Hoover) 
available in Tinker, but for simplicity we'll use the Berendsen one 
here.</p><p>Next we'll extract the last frame of the NVT trajectory to 
use as the input of the NPT simulation. Again, thanks to the dyn file we
 don't <i>need </i>to do this, but it is sensible for record-keeping and illustrates how to manipulate trajectories. The Tinker <code>archive</code> program is used to do this, and we'll use it interactively as suggested in Side Note 2. Type:</p><div class="sites-codeblock sites-codesnippet-block"><code>archive AAA_eq_nvt.arc</code></div><p>...and
 follow the on-screen instructions. Here we want option 2, to extract an
 individual frame. You'll then be asked to select the first and last 
frame to extract, and the stride between them. Here we want the 10th 
frame only (the last in our 5 ps trajectory), so type <code>10 10 1</code> at the prompt. Once complete, press Enter to quit. Type <code>ls</code> again and you'll notice a new file has been created, <code>AAA_eq_nvt.010</code>. This is the 10th frame of the <code>AAA_eq_nvt.arc</code> archive file - the one we want. Rename it as the input for our upcoming NPT simulation, <b>making sure it has the exact same prefix as the dyn file we want to restart from</b>:</p><div class="sites-codeblock sites-codesnippet-block"><code>mv AAA_eq_nvt.010 AAA_eq2_npt.xyz</code></div><p>Finally we're ready to run. The script to submit is <code>AAA_eq2_npt.x</code>, inside you'll find the command line:<br></p><div class="sites-codeblock sites-codesnippet-block"><code>dynamic AAA_eq2_npt.xyz -k AAA_eq2_npt.key 5000 1.0 0.5 4 300 1.0 &gt; AAA_eq2_npt.out</code></div><p style="text-align:left">Notice
 there are two changes from the NVT simulation. First we've changed from
 ensemble option 2 (NVT) to ensemble option 4 (NPT). Second, there is a 
final number on the command line specifying the pressure we want to run 
at, in atmospheres (here 1.0 atm). Make any filename changes you need to
 and submit the job:</p><div class="sites-codeblock sites-codesnippet-block"><p style="text-align:left"><code>qsub AAA_eq2_npt.x</code></p></div><p>
</p>
<p>This should again take about 6-7 minutes to run. Once complete, have a
 look at the outputs again - you should see the box dimensions and 
density begin to change as the barostat does its job.<br></p><hr><h2><a name="TOC-Extras:"></a>Extras:<br></h2><h4><a name="TOC-Visualising-output"></a><span style="color:rgb(0,0,255)">Visualising output</span></h4><p>Obviously
 with these short simulation times our system is nowhere near 
equilibrated just yet. However, we can still take a look at our 
trajectories to ensure there are no clashes or unphysical structures 
created during the dynamics so far. VMD is often used for the 
visualisation of molecular dynamics simulations, and we'll use it here 
too.</p><p>However, VMD currently (version 1.9.2) has a small bug, in that it will only correctly visualise Tinker archive files that <b>don't contain any periodic box information</b>,
 as older versions of Tinker did not include box dimensions in their 
archive files. If the periodic boundaries are not crucial for your 
analysis, you can strip the trajectories of box information with a 
simple <code>sed</code> command, e.g.<br></p><div class="sites-codeblock sites-codesnippet-block"><code>sed '/90.000000\ \ \ 90.000000\ \ \ 90.000000/d' AAA_eq2_npt.arc &gt; AAA_eq2_stripped.arc</code></div><p>If you wish, strip the trajectories of their box information, copy the archive files (<code>*.arc</code>) back to your local machine using WinSCP as <a href="./Intro & setup.html">detailed in the introduction</a>, and visualise in VMD using the file type 'Tinker'.</p><h4><a name="TOC-Analysing-simulations"></a><span style="color:rgb(0,0,255)">Analysing simulations</span></h4><p>Tinker
 comes with a whole suite of programs for analysing Tinker xyz or 
trajectory files, the most useful of which is probably the '<code>analyze</code>' program. You can run analysis interactively simply by feeding it an input structure and key file (e.g. <code>analyze AAA_eq2_npt.arc -k AAA_eq2_npt.key</code>) and following the on screen instructions. Alternatively, many other analysis packages, such as <a href="http://mdtraj.org/1.8.0/" target="_blank" rel="nofollow">MDTraj</a>, <a href="http://ambermd.org/" target="_blank" rel="nofollow">Amber cpptraj</a>, or <a href="http://parmed.github.io/ParmEd/html/index.html" target="_blank" rel="nofollow">Parmed</a>,
 are Tinker-aware and can read and manipulate Tinker coordinate files to
 varying extents. With a little scripting, this allows a diverse range 
of analysis of AMOEBA simulations beyond what's available in Tinker. 
More on that, however, in Exercise 3.</p></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</tbody></table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=./Exercise 1.html&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="https://sites.google.com/site/amoebaworkshop/system/app/pages/reportAbuse" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="./Resources/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/site/amoebaworkshop/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//web.archive.org/web/20210125225205/https://docs.google.com/comments/d/AAHRpnXuj-DFPFSie3egVkMai3-ZO6Gs5cLLO9RJOtlNMavqualyRRCpbxvlTfHIAiSvaIt0Z7Drci3T8DfHMRU3gUecFXDBCef48T85hH_u0QauHHAIkahtEgn0aLJXSWdrV3wrgjkkt/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('https://sites.google.com/site/amoebaworkshop/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>



</body></html>
<!--
     FILE ARCHIVED ON 22:52:05 Jan 25, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 00:16:05 Feb 14, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  exclusion.robots: 1.739 (7)
  exclusion.robots.policy: 1.611 (7)
  cdx.remote: 0.709 (7)
  esindex: 0.106 (7)
  LoadShardBlock: 937.158 (24)
  PetaboxLoader3.datanode: 551.354 (26)
  load_resource: 87.574
  PetaboxLoader3.resolve: 29.576
  loaddict: 11.268
-->
